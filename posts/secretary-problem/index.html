<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 6.3.0"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="format-detection" content="telephone=no"><title>Secretary Problem - duinomaker&#39;s blog</title><meta name="description" content="A partial solution to secretary problem using combination and various summation strategies"><meta property="og:type" content="article"><meta property="og:title" content="Secretary Problem"><meta property="og:url" content="https://duinomaker.top/posts/secretary-problem/"><meta property="og:site_name" content="duinomaker&#39;s blog"><meta property="og:description" content="A partial solution to secretary problem using combination and various summation strategies"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://duinomaker.top/images/og_image.png"><meta property="article:published_time" content="2020-07-13T14:51:43.000Z"><meta property="article:modified_time" content="2021-03-21T08:17:57.000Z"><meta property="article:author" content="duinomaker"><meta property="article:tag" content="mathematics"><meta property="article:tag" content="programming"><meta property="article:tag" content="algorithm"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://duinomaker.top/images/og_image.png"><meta name="twitter:creator" content="@duinomaker"><meta name="twitter:site" content="@duinomaker"><meta property="fb:admins" content="100043022235251"><link rel="canonical" href="https://duinomaker.top/posts/secretary-problem/"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin="anonymous"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="apple-touch-icon" type="image/png" sizes="57x57" href="/images/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" type="image/png" sizes="114x114" href="/images/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" type="image/png" sizes="72x72" href="/images/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" type="image/png" sizes="144x144" href="/images/apple-touch-icon-144x144.png"><link rel="icon" type="image/svg+xml" href="/images/favicon.svg"><link rel="alternate icon" type="image/png" href="/images/favicon.png"><link rel="shortcut icon" type="image/x-icon" sizes="32x32" href="/images/favicon-32x32.ico"><link rel="shortcut icon" type="image/x-icon" sizes="16x16" href="/images/favicon-16x16.ico"><link rel="preload" href="/assets/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous"><link rel="preload" href="/assets/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@latest/css/bulma.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,italic,500,500italic|Source+Code+Pro|Alegreya:400,italic,500,500italic"><link rel="stylesheet" href="/assets/font-awesome/all.min.css"><style>@font-face{font-family:"CMU Concrete";src:local("CMU Concrete Roman"),url(/assets/webfonts/cmu/cmunorm.woff) format("woff"),url(/assets/webfonts/cmu/cmunorm.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:"CMU Concrete";src:local("CMU Concrete Italic"),url(/assets/webfonts/cmu/cmunoti.woff) format("woff"),url(/assets/webfonts/cmu/cmunoti.ttf) format("truetype");font-weight:400;font-style:italic}@font-face{font-family:"CMU Concrete";src:local("CMU Concrete Bold"),url(/assets/webfonts/cmu/cmunobx.woff) format("woff"),url(/assets/webfonts/cmu/cmunobx.ttf) format("truetype");font-weight:700;font-style:normal}@font-face{font-family:"CMU Concrete";src:local("CMU Concrete BoldItalic"),url(/assets/webfonts/cmu/cmunobi.woff) format("woff"),url(/assets/webfonts/cmu/cmunobi.ttf) format("truetype");font-weight:700;font-style:italic}</style><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@latest/styles/atom-one-light.min.css"><link rel="stylesheet" href="/assets/style.css"></head><body class="is-1-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand is-flex-center"> <a class="navbar-item navbar-logo" href="/"><img src="/images/misc/logo.svg" alt="Secretary Problem" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"> <a class="navbar-item" href="/">Home</a> <a class="navbar-item" href="/archives/">Archives</a> <a class="navbar-item" href="/categories/">Categories</a> <a class="navbar-item" href="/notes/">Notes</a> <a class="navbar-item" href="/about/">About</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;" rel="external nofollow noreferrer"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column is-12 has-order-2 column-main"><div class="card"><div class="card-content article"><div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto"><div class="level-left"> <time class="level-item has-text-grey" datetime="2020-07-13T14:51:43.000Z">July 13, 2020</time><span class="level-item has-text-grey"><i class="fas fa-user"></i> &nbsp;<a class="has-link-grey" rel="author" href="https://duinomaker.top/">duinomaker</a></span></div></div><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal tex-math"> Secretary Problem</h1><div class="content has-math tex-math"><p>“Imagine there are eight roses in your garden; you inspect them one-by-one randomly. Take the first three roses you encounter as sample and go on. Once you encounter a rose more beautiful than any of the first three roses, you pick it up and stop. How likely is it that the one you picked up is the most beautiful one?”</p><span id="more"></span><p>At the first sight of the problem, I thought that I could solve it using the methods learned from the second chapter of <em>Concrete Mathematics</em>, and I did managed to. In this post, I will generalize the problem above into the case of $N$ roses and $K$ worth of sample size, then show you how to derive the probability in a closed form, using combination and summation strategies.</p><hr><p>Let’s say that these roses have “beauty index” from $1$ through $N$, respectively, without duplication, and that $a_n$ is such index of the $n$-th rose you encounter. In this setup, ‘$N$’ is the most beautiful rose; if we will successfully pick up the most beautiful rose, the roses must follow</p><p>$$\overbrace{a_1\;a_2\;\ldots\;a_K}^{\text{$K$ terms}}\;\overbrace{a_{K+1}\;\ldots\;a_j}^{\text{$(j-K)$ terms}}\;N\;\overbrace{a_{j+2}\;\ldots\;a_N}^{\text{$(N-j-1)$ terms}},\quad\text{for $K\leq j\lt N$,}$$</p><p>where you pick up the $(j+1)$-th rose you inspect, which is also the most beautiful rose. In order for this to happen, all terms from $a_{K+1}$ through $a_j$ must be less than $k=\max(a_1,a_2,\ldots,a_K)$; there are $k$ such terms, but $K$ of them are already in $a_1\,a_2\,\ldots\,a_K$. So, at most $(k-K)$ terms are available to settle between ‘$a_K$’ and ‘$N$’, hence $j$ is at most $k$.</p><p>That means, if $k=\max(a_1,a_2,\ldots,a_K)$, the probability that you pick up the right rose is $\sum_{j=K}^k\frac{(N-j-1)!(k-K)^{\underline{j-K}}}{(N-K)!}$. (Note that $n^{\underline k}$ can denote the number of permutations of $k$ elements out of $n$ elements.)</p><p>(This refers to the notation of <em>falling factorial powers</em>, defined by the rule $n^{\underline k}=n(n-1)\cdots(n-k+1)$. More of its properties are described in <em>Concrete Mathematics</em> Chapter 2, partially available in <a href="/CM/notes/2/#2-6-Finite-and-Inifinite-Calculus">my notes</a>.)</p><p>Alright, we will readily be able to evaluate the probability if we know how often $\max(a_1,a_2,\ldots,a_K)$ equals to a specific $k$; let the probability be $Q(k)$. What we do is randomly choosing $K$ roses out of $N$ roses, and the largest of them is $k$. In other words, one of the choices must be the rose $k$, and the rest $(K-1)$ choices are made within $(k-1)$ roses that are less beautiful than the rose $k$. It’s now easy to see that</p><p>$$\begin{aligned}Q(k)&amp;=\frac{\binom{k-1}{K-1}}{\binom NK}\\&amp;=\frac K{N^{\underline K}}(k-1)^{\underline{K-1}},\quad\text{for $k\geq K$.}\end{aligned}$$</p><p>To sum up all what was said above, let $P_{N,K}$ be the ultimate probability we’ve been pursuing. We have</p><p>$$\begin{aligned}P_{N,K}&amp;=\sum_{k=K}^{N-1}Q(k)\sum_{j=K}^k\frac{(N-j-1)!(k-K)^{\underline{j-K}}}{(N-K)!}\\&amp;=\sum_{k=K}^{N-1}\frac K{N^{\underline K}}(k-1)^{\underline{K-1}}\sum_{j=K}^k\frac{(N-j-1)!(k-K)^{\underline{j-K}}}{(N-K)!}\\&amp;=\frac K{N^{\underline K}(N-K)!}\sum_{k=K}^{N-1}\sum_{j=K}^k(N-j-1)!(k-1)^{\underline{K-1}}(k-K)^{\underline{j-K}}\\&amp;=\frac K{N!}\sum_{k=K}^{N-1}\sum_{j=K}^k(N-j-1)!(k-1)^{\underline{K-1}}(k-K)^{\underline{j-K}}\\&amp;=\frac K{N!}\sum_{k=K}^{N-1}\sum_{j=K}^k(N-j-1)!(k-1)^{\underline{j-1}}\\&amp;=\frac K{N!}\sum_{K\leq k\lt N}\sum_{K\leq j\leq k}(N-j-1)!(k-1)^{\underline{j-1}}\\&amp;=\frac K{N!}\sum_{K\leq j\lt N}\sum_{j\leq k\lt N}(N-j-1)!(k-1)^{\underline{j-1}}\\&amp;=\frac K{N!}\sum_{K\leq j\lt N}(N-j-1)!\sum_{j\leq k\lt N}(k-1)^{\underline{j-1}}\\&amp;=\frac K{N!}\sum_{K\leq j\lt N}(N-j-1)!\frac{(N-1)^{\underline j}-(j-1)^{\underline j}}j\\&amp;=\frac K{N!}\sum_{K\leq j\lt N}\frac{(N-j-1)!(N-1)^{\underline j}}j\\&amp;=\frac K{N!}\sum_{K\leq j\lt N}\frac{(N-1)!}j\\&amp;=\frac{K(N-1)!}{N!}(H_{N-1}-H_{K-1})\\&amp;=\frac KN(H_{N-1}-H_{K-1}),\end{aligned}$$</p><p>where $H_k$ is the $k$-th harmonic number, $H_k=1+\frac12+\cdots+\frac1k$.</p><p>Here are some critical observations about the steps above:</p><p>From line 6 to line 7, I interchanged the order of summation, such that $(N-j-1)!$ could be factored out.</p><p>From line 8 to line 9, I used the rule</p><p>$$\sum_{a\leq n\lt b}x^{\underline m}=\frac{b^{\underline{m+1}}-a^{\underline{m+1}}}{m+1},\quad\text{for $m\neq-1$.}$$</p><p>In line 9, $(j-1)^{\underline j}=0$, by the definition of falling factorial powers.</p><p>Back to our initial problem, we have $N=8$ and $K=3$; thus</p><p>$$\begin{aligned}P_{8,3}&amp;=\frac38(H_7-H_2)\\&amp;=\frac38\left(\frac13+\frac14+\frac15+\frac16+\frac17\right)\\&amp;=\frac{459}{1120}.\end{aligned}$$</p><h2 id="Remarks"><a href="#Remarks" class="headerlink" title="Remarks"></a>Remarks</h2><p>So far, I have derived means of evaluating the probability given $N$ and $K$. Further derivations such as methods of optimizing the probability are still under investigation.</p></div></div></div><div class="card card-transparent"><div class="level post-navigation is-flex-wrap is-mobile"><div class="level-start"><a class="level level-item has-link-grey article-nav-prev" href="/posts/elementary-number-theory-exercises/"><i class="level-item fas fa-chevron-left"></i> <span class="level-item">初等数论习题</span></a></div><div class="level-end"> <a class="level level-item has-link-grey article-nav-next" href="https://duinomaker.top/CM/"><span class="level-item">Concrete Mathematics Notes</span><i class="level-item fas fa-chevron-right"></i></a></div></div></div><div class="card"><div class="card-content"><h3 class="title is-5 has-text-weight-normal">Comments</h3><div id="valine-thread" class="content"></div><script src="https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script><script>new Valine({el:"#valine-thread",notify:!1,verify:!1,app_id:"jUDJCYuOij3UzEzFmRpQer5U-gzGzoHsz",app_key:"h2AVOMeF8QsLYFdVVbbf9d7k",placeholder:"Suggestions are welcome.",lang:"en"})</script></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start has-text-centered-mobile has-mb-6-mobile"><p>This work is licensed under a <a rel="license noopener external nofollow noreferrer" title="Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">Creative Commons License</a></p></div><div class="level-end has-text-centered-mobile has-mb-5-mobile"><p class="is-size-7">&copy;&nbsp;2020<span style="padding-left:.06em">–</span>2023&nbsp;duinomaker<span>&nbsp;&nbsp;|&nbsp;&nbsp;</span><i class="fas fa-file-word"></i>&nbsp;57.5k&nbsp;words in total<span>&nbsp;&nbsp;|&nbsp;&nbsp;</span><a class="has-link-black-ter" rel="license noopener external nofollow noreferrer" title="Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"><i class="fab fa-creative-commons"></i>&nbsp;&nbsp;<i class="fab fa-creative-commons-by"></i>&nbsp;&nbsp;<i class="fab fa-creative-commons-nc"></i>&nbsp;&nbsp;<i class="fab fa-creative-commons-sa"></i></a></p></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script>var IcarusThemeSettings={site:{url:"https://duinomaker.top",external_link:{enable:!0,exclude:[]}},article:{highlight:{clipboard:!1,fold:"unfolded"}}}</script><script>window.MathJax={chtml:{matchFontHeight:!1,displayAlign:"left",displayIndent:"2em"},tex:{inlineMath:[["$","$"]],displayMath:[["$$","$$"]],packages:{"[+]":["noerrors"]}},svg:{fontCache:"global",displayAlign:"left",displayIndent:"2em"},options:{ignoreHtmlClass:"tex2jax_ignore",processHtmlClass:"tex2jax_process",renderActions:{addMenu:[]}},loader:{load:["[tex]/noerrors"]}}</script><script id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" async></script><script src="/assets/main.js" defer="defer"></script><div class="searchbox ins-search"><div class="searchbox-container ins-search-container"><div class="searchbox-input-wrapper"> <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..."><span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span></div><div class="searchbox-result-wrapper ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},CONTENT_URL:"/assets/content.json"}</script><script src="/assets/insight.js" defer="defer"></script><link rel="stylesheet" href="/assets/search.css"><link rel="stylesheet" href="/assets/insight.css"></body></html>